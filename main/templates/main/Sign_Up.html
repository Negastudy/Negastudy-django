
<!DOCTYPE html>
<html lang="en" >

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><!-- -->
    <meta name="viewport" content="width=device-width, initial-scale=1"><!-- -->
    <title>Negastudy</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel="stylesheet" href="../../static/Sign_Up/Sign_Up.css">

    <!-- CSS -->

    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,100,300,500">
    <link rel="stylesheet" href="../../static/assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../static/assets/bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="../../static/assets/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../static/assets/css/form-elements.css">
    <link rel="stylesheet" href="../../static/assets/css/style.css">
    <link rel="stylesheet" href="../../static/assets/css/form-elements.css">
    <link rel="stylesheet" href="../../static/assets/css/style.css">

    <!-- js -->
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <script src="../../static/assets/js/jquery-1.11.1.min.js"></script>


    <!-- Favicon and touch icons -->
    <link rel="shortcut icon" href="../../static/assets/ico/favicon.png">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../static/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../static/assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../static/assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../../static/assets/ico/apple-touch-icon-57-precomposed.png">

</head>

<body>


<!-- multistep form -->
<form class='form-horizontal' id="msform" action="/sign_up" method="post">
    <!--회원가입 첫번째 단계-->
    <fieldset>
        <h2 class="fs-title">회원가입</h2>
        <!--<h3 class="fs-subtitle">로그인할 아이디와 </br>비밀번호를 입력하세요.</h3>-->

        <div style="left:-100px; top: -20px;">
            <a class="tooltips" href="#"><img src="../../static/images/tooltip.png" style="max-width: 17%"/><span>학교이메일로 인증하시면 같은학교 스터디 모임에 참여하실 수 있습니다!</span></a>
        </div>
        <div style="border:10px;">
        <input type="text" name="signup-email" id="signup-email"  placeholder="이메일" style="float: left ;width :75.5%;margin-top:-39px;">
        <input type="button" name="email-send" class="email-send" value="발송" style="float : right; width:20%; margin-top:-39px;" />
        </div>
        <input type="text" name="signup-email-check" id="signup-email-check" placeholder="인증번호" style="float: left ;width :75.5%;"/>
        <input type="button" name="email-check" class="email-check" value="확인" style="float : right; width:20%;" />
        <input type="button" name="signup-next" id="signup-next" class="next action-button" value="Next" style="float : right" />
    </fieldset>
    <!--회원가입 두번째 단계(이메일 인증)-->
    <fieldset>
        <h2 class="fs-title">회원가입</h2>
        <!--<h3 class="fs-subtitle" style="margin-top:-15px;">둘중 하나의 이메일로 인증하세요.</h3>-->
        <!--일반인 이메일 인증-->
        {% csrf_token %}

        <div class="form-group">
            <div class="input-group">
                <input type="text" name="signup_name" id="signup-name" placeholder="이름" class="form-control"/>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <select name="school" class="form-control-school">
                    <option value="대학교를 선택해주세요" style="width:80%">대학교를 선택해주세요</option>
                    <option value="선택안함">선택안함</option>
                    <option value="강원대학교">강원대학교</option>
                    <option value="단국대학교">단국대학교</option>
                    <option value="서강대학교">서강대학교</option>
                    <option value="연세대학교">연세대학교</option>
                    <option value="서울대학교">서울대학교</option>
                    <option value="고려대학교">고려대학교</option>
                    <option value="기타">기타</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <input type="text" name="signup_id" placeholder="아이디" class="form-control"/>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <input type="text" name="signup_pwd" placeholder="비밀번호" class="form-control"/>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group">
                <input type="text" name="signup_pwd_check" placeholder="비밀번호 확인" class="form-control"/>
            </div>
        </div>



        <!--학교 이메일 인증-->
        <!--<div>-->
        <!--<fieldset style="width: 110%; margin-left:-10px; padding:10px;border-radius: 10px;">-->
            <!--<h4 class="fs-subtitle-school">2. 학교 이메일로 인증하세요.</h4>-->
            <!--<input type="text" name="signup-email" id="signup-email-school"  placeholder="이메일" style="float: left ;width :70%;">-->
            <!--<input type="button" name="email-send" class="email-send-school" value="발송" style="float : right; width:20%;" />-->
            <!--<input type="text" name="signup-email-check" id="signup-email-check-school" placeholder="인증번호" style="float: left ;width :70%;"/>-->
            <!--<input type="button" name="email-send" class="email/-check-school" value="확인" style="float : right; width:20%;" />-->
        <!--</fieldset>-->
        <!--</div>-->
        <!--<br>-->
        <!--previous , finish 버튼-->
        <input type="button" name="previous" class="previous action-button" value="Previous" />
        <input type="submit" name="submit" class="action-button" value="Finish"/>

    </fieldset>
</form>
<!-- Javascript -->
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js'></script>
<script  src="../../static/Sign_Up/Sign_Up.js"></script>

<script src="../../static/assets/bootstrap/js/bootstrap.min.js"></script>
<script src="../../static/assets/js/jquery.backstretch.min.js"></script>
<script src="../../static/assets/js/scripts.js"></script>


<!--[Custom Javascript]>-->

<script>
$(document).ready(function() {
    $(".email-send").click(function() {
        var email = document.getElementById('signup-email').value;
        $.ajax({
            method: 'POST',
            url: 'send_email',
            data: {'email': email, 'csrfmiddlewaretoken': '{{ csrf_token }}'},
            dataType: "json",

        });
    })
})
</script>
<script>
$(document).ready(function() {
    $(".email-check").click(function() {
        var code = document.getElementById('signup-email-check').value;
        $.ajax({
            method: 'POST',
            url: 'check_code',
            data: {'code': code, 'csrfmiddlewaretoken': '{{ csrf_token }}'},
            dataType: "json",

        }).done(function(res) {
            if(res.flag == 0) {
                alert('인증번호가 유효하지 않습니다.')
            }
            else if(res.flag == 1) {
                alert('인증되었습니다.')
            }
        });
    })
})
</script>
<script type="text/javascript">
    $(document).ready(function() {
        $('#msform').bootstrapValidator({
            fields: {
                signup_name: {
                    validators: {
                        notEmpty: {
                            message: '이름을 입력하세요.'
                        }
                    }
                },
                signup_id: {
                    validators: {
                        notEmpty: {
                            message: '아이디를 입력하세요.'
                        }
                    }
                },
                signup_pwd: {
                    validators: {
                        stringLength: {
                            min: 8,
                            message: '비밀번호는 8자 이상이여야 합니다.'
                        },
                        identical: {
                            field: 'signup_pwd_check',
                            message: '비밀번호를 아래에 한번 더 확인해주세요.'
                        }
                    }
                },
                signup_pwd_check: {
                    validators: {
                        identical: {
                            field: 'signup_pwd',
                            message: '비밀번호가 위와 다릅니다.'
                        }
                    }
                },
            }
        })

    });
</script>

<!--[if lt IE 10]>-->
<!--<script src="assets/js/placeholder.js"></script>-->
</body>
</html>
